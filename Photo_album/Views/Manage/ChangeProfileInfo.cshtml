@using Microsoft.AspNet.Identity
@model Photo_album.Models.UserModels.ChangeProfileInfo

@if (User.Identity.GetUserId() is null)
{
    <p>@Html.ActionLink("Login", "Login", "User") or @Html.ActionLink("Register", "Register", "User") if you do not have an account!</p>
}

else
{
    {
        ViewBag.Title = "User";
    }

    using (Html.BeginForm("ChangeProfileInfo", "Manage", new {userKey = User.Identity.GetUserId()}, FormMethod.Post, new {enctype = "multipart/form-data"}))
    {
<div class="text-box border border-3 px-3 py-2 my-2">
    @Html.ValidationSummary("", new { @class = "text-danger" })
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <h4>Change your profile info</h4>
    @Html.ValidationSummary(true)
    @Html.TextArea("Description", "", new { @class = "inst-textarea", id = "description", placeholder = "Description" })
    <label class="inst-label" for="description">Description:</label>
    <p>Profile photo:</p>
    @Html.TextBoxFor(model => model.ProfilePhoto, new { type = "file", id = "img", name = "uploadFile", accept = "image/*" })
    <div class="mt-2">
        <button class="btn-inst mx-1" onclick="return confirm('Are you sure you wish to change your profile info?');" type="submit">Change profile info</button>
        <button class="btn-inst mx-1">@Html.ActionLink("Cancel", "Index", new {} , new {@class="inst-link"})</button>
    </div>
</div>
    }
}